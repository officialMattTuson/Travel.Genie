<div [class.trip--completed]="isPast()" class="trip">
  <div class="trip__header">
    <h3 class="trip__destination">{{ tripDetails().trip.primaryDestination.name }}</h3>
    <span [class.trip__status--completed]="isPast()" class="trip__status">
      {{ isActive() ? 'Active' : isPast() ? 'Completed' : 'Upcoming' }}
    </span>
  </div>

  <div class="trip__stats">
    @if (isActive()) {
    <div class="trip__stat">
      <span class="trip__stat-label">Days Left</span>
      <span class="trip__stat-value">{{ numberOfDaysLeft() }}</span>
    </div>
    } @else if (!isPast()) {
    <div class="trip__stat">
      <span class="trip__stat-label">Days Until</span>
      <span class="trip__stat-value">{{ numberOfDaysUntil() }}</span>
    </div>
    }
    <div class="trip__stat">
      <span class="trip__stat-label">Bookings</span>
      <span class="trip__stat-value">{{ tripDetails().bookings.length }}</span>
    </div>
    <div class="trip__stat">
      <span class="trip__stat-label">Budget</span>
      <span class="trip__stat-value">${{ tripDetails().trip.budget?.totalBudget || 0 }}</span>
    </div>
    @if (isPast()) {
    <div class="trip__stat">
      <span class="trip__stat-label">Days Completed</span>
      <span class="trip__stat-value">{{ tripDetails().trip.itineraryDays.length }}</span>
    </div>
    }
  </div>

  @if (isActive()) {
  <div class="trip__progress">
    <h4>Trip Progress</h4>
    <mat-progress-bar mode="determinate" [value]="tripProgress()" aria-label="Trip completion progress">
    </mat-progress-bar>
  </div>
  }
</div>