<div class="dashboard__container">

  <app-header
    [pageTitle]="'Travel Dashboard'"
    [pageSubtitle]="'Your journey overview and insights'"
    [pageActions]="pageHeaderActions"
    (actionClicked)="onHeaderActionClick($event)"
  ></app-header>

  <div class="dashboard">
    <div class="dashboard__column dashboard__column--left">
      <mat-card appearance="outlined" class="dashboard__card dashboard__card--trips">
        <mat-card-header class="dashboard__card-header">
          <span class="dashboard__card-title title">Active Trips</span>
          <span class="dashboard__card-subtitle subtitle">Your current travel adventures</span>
        </mat-card-header>
        <mat-card-content>
          <div class="dashboard__card-content-trips">
            @if (activeTrips().length > 0) {
              @for (trip of activeTrips(); track trip.id) {
                <app-trip-summary [tripDetails]="trip"></app-trip-summary>
              }
            } @else {
              <div class="dashboard__empty-state">
                <mat-icon>flight</mat-icon>
                <p>No active trips right now</p>
                <span>Your next adventure awaits!</span>
              </div>
            }
          </div>
        </mat-card-content>
      </mat-card>

      <mat-card appearance="outlined" class="dashboard__card dashboard__card--trips">
        <mat-card-header class="dashboard__card-header">
          <span class="dashboard__card-title title">Planned Trips</span>
          <span class="dashboard__card-subtitle subtitle">Your upcoming travel plans</span>
        </mat-card-header>
        <mat-card-content>
          <div class="dashboard__card-content-trips">
            @if (plannedTrips().length > 0) {
              @for (trip of plannedTrips(); track trip.id) {
                <app-trip-summary [tripDetails]="trip"></app-trip-summary>
              }
            } @else {
              <div class="dashboard__empty-state">
                <mat-icon>calendar</mat-icon>
                <p>No planned trips yet</p>
                <span>Start planning your next adventure!</span>
              </div>
            }
          </div>
        </mat-card-content>
      </mat-card>

      <mat-card appearance="outlined" class="dashboard__card dashboard__card--memories">
        <mat-card-header class="dashboard__card-header">
          <span class="dashboard__card-title title">Trip Memories</span>
          <span class="dashboard__card-subtitle subtitle">Your completed adventures and experiences</span>
        </mat-card-header>
        <mat-card-content>
          <div class="dashboard__card-content-memories">
            @if (completedTrips().length > 0) {
              @for (trip of completedTrips(); track trip.id) {
                <app-trip-summary [tripDetails]="trip"></app-trip-summary>
              }
            } @else {
              <div class="dashboard__empty-state">
                <mat-icon>photo_album</mat-icon>
                <p>No completed trips yet</p>
                <span>Finish a trip to add it to your memories</span>
              </div>
            }
          </div>
        </mat-card-content>
      </mat-card>
    </div>

    <div class="dashboard__column dashboard__column--right">
      <app-trip-statistics
        [activeTrips]="activeTrips()"
        [completedTrips]="completedTrips()"
        [upcomingTrips]="plannedTrips()"
      ></app-trip-statistics>

      <mat-card appearance="outlined" class="dashboard__card dashboard__card--actions">
        <mat-card-header class="dashboard__card-header">
          <span class="dashboard__card-title title">Quick Actions</span>
        </mat-card-header>
        <mat-card-content>
          <div class="dashboard__actions-grid">
            <button class="dashboard__action-btn" (click)="onQuickActionClick('plan-trip')">
              <mat-icon>add_circle_outline</mat-icon>
              <span class="dashboard__action-label">Plan New Trip</span>
            </button>
            <button class="dashboard__action-btn" (click)="onQuickActionClick('generate-itinerary')">
              <mat-icon>auto_awesome</mat-icon>
              <span class="dashboard__action-label">AI Itinerary</span>
            </button>
            <button class="dashboard__action-btn" (click)="onQuickActionClick('check-flights')">
              <mat-icon>flight</mat-icon>
              <span class="dashboard__action-label">Check Flights</span>
            </button>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>
